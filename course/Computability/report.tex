% Created 2022-06-29 Wed 12:47
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\input{../../preamble.tex}
\makeindex
\usepackage[UTF8]{ctex}
\DeclareMathOperator{\CPO}{\textbf{CPO}}
\newtheorem{theorem}{定理}[section]
\newtheorem{assumption}[theorem]{假设}
\newtheorem{corollary}[theorem]{推论}
\newtheorem{proposition}[theorem]{命题}
\newtheorem{lemma}[theorem]{引理}
\newtheorem{definition}[theorem]{定义}
\newtheorem{assum}[theorem]{假设}
\newtheorem{note}[theorem]{注}
\newtheorem{fact}[theorem]{性质}
\newtheorem*{claim}{断言}
\newtheorem{Theorem}{定理}
\newtheorem{example}[theorem]{例}
\newtheorem{property}[theorem]{性质}
\newtheorem{annotation}[theorem]{注}
\author{陈淇奥}
\date{\today}
\title{Scott拓扑与\(D_\infty\)}
\hypersetup{
 pdfauthor={陈淇奥},
 pdftitle={Scott拓扑与\(D_\infty\)},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 28.0.92 (Org mode 9.6)}, 
 pdflang={English}}
\begin{document}

\maketitle

\section{Scott拓扑}
\label{sec:org4d67d21}

\begin{definition}[]
给定偏序集\(\la D,\sqsubseteq\ra\)以及集合\(X\subseteq D\)，
\begin{enumerate}
\item 用\(\bot\)表示\(D\)的 \textbf{最小元} ；
\item 用\(\bigsqcup X\)表示\(X\)的最小上界；
\item 若\(X\)非空且对任意\(a,b\in X\)都存在\(c\in X\)使得\(a\sqsubseteq c\)且\(b\sqsubseteq c\)，则称\(X\)是 \textbf{有向集} ；
\item 若\(D\)满足
\begin{enumerate}
\item \(D\)有最小元；
\item 每一个\(D\)的有向子集\(X\)都有最小上界。
\end{enumerate}
则称\(D\)是 \textbf{完全偏序} (complete partial order) ，记作c.p.o.。
\end{enumerate}
\end{definition}

\begin{definition}[]
给定任意\(\bot\notin\N\)，定义\(\N^+=\N\cup\{\bot\}\)，并且对任意\(a,b\in\N^+\)，定义
\begin{equation*}
a\sqsubseteq b\Leftrightarrow(a=\bot\wedge b\in\N)\vee a=b
\end{equation*}
我们用\(\N^+\)表示\(\la\N^+,\sqsubseteq\ra\)。
\end{definition}

\begin{lemma}[]
\(\N^+\)是完全偏序。
\end{lemma}

\begin{proof}
注意到\(\N^+\)的有向子集只包括单点集与\(\{\bot,n\}\)，其中\(n\in\N\)
\end{proof}

\begin{definition}[]
给定完全偏序\(D,D'\)，令\(f\)是从\(D\)到\(D'\)的函数，定义\(f\)是 \textbf{单调的} 当且仅当
\begin{equation*}
a\sqsubseteq b\Rightarrow f(a)\sqsubseteq'f(b)
\end{equation*}
\end{definition}

\begin{definition}[]
给定完全偏序\(\la D,\sqsubseteq\ra\)，定义\(D\)上的 \textbf{Scott拓扑} ：\(O\subseteq D\)是开集当且仅当
\begin{enumerate}
\item \(x\in O\wedge x\sqsubseteq y\Rightarrow y\in O\);
\item 若\(X\subseteq D\)有向且\(\bigsqcup X\in O\)，则\(X\cap O\neq\emptyset\)。
\end{enumerate}
\end{definition}

\begin{lemma}[]
令\(U_x=\{z\in D\mid z\not\sqsubseteq x\}\)，则\(U_x\)是开集
\end{lemma}

\begin{proof}
\begin{enumerate}
\item 若\(y\in U_x\)且\(y\sqsubseteq z\)，若\(z\sqsubseteq x\)，则\(y\sqsubseteq x\)矛盾。
\item 若\(X\subseteq D\)有向且\(\bigsqcup X\in U_x\)，若\(X\cap U_x=\emptyset\)，则\(\bigsqcup X\sqsubseteq x\)，矛盾。
\end{enumerate}
\end{proof}

\begin{corollary}[]
\(D\)是\(T_0\)空间
\end{corollary}

\begin{proof}
令\(x,y\in D\)且\(x\neq y\)，则\(x\in U_y\)且\(y\notin U_y\)。
\end{proof}

\begin{proposition}[]
考虑函数\(f:D\to D'\)，则
\begin{center}
\(f\)连续当且仅当对任意有向集\(X\subseteq D\)，\(f(\bigsqcup X)=\bigsqcup f(X)\)
\end{center}
其中\(f(X)=\{f(x)\mid x\in X\}\)。
\end{proposition}

\begin{proof}
\(\Rightarrow\)：若\(f\)连续，假设\(x\sqsubseteq y\)且\(f(x)\not\sqsubseteq' f(y)\)，则\(f(x)\in U_{f(y)}\)，
\(x\in f^{-1}(U_{f(y)})\)，由于\(f^{-1}(U_{f(y)})\)是开集，\(y\in f^{-1}(U_{f(y)})\)，
\(f(y)\in U_{f(y)}\)，矛盾。因此对于任意\(x\in X\)，\(f(\bigsqcup X)\sqsupseteq f(x)\)，\(f(\bigsqcup X)\sqsupseteq\bigsqcup f(X)\)。
若\(f(\bigsqcup X)\not\sqsubseteq\bigsqcup f(X)\)，则\(f(\bigsqcup X)\in U_{\bigsqcup f(X)}\)，\(\bigsqcup X\in f^{-1}(U_{\bigsqcup f(X)})\)，由定义，存
在\(a\in X\)使得\(a\in X\cap f^{-1}(U_{\bigsqcup f(X)})\)，因此\(f(a)\in U_{\bigsqcup f(X)}\)，\(f(a)\not\sqsubseteq\bigcup f(X)\)，矛盾。

\(\Leftarrow\)：若\(x\sqsubseteq y\)，则\(y=x\sqcup y\)，\(f(y)=f(x)\sqcup f(y)\)，因此\(f(x)\sqsubseteq f(y)\)。因此若\(O\subseteq D'\)是开集，
对于任意有向\(X\subseteq D\)且\(\bigsqcup X\in f^{-1}(O)\)，有\(f(\bigsqcup X)=\bigsqcup f(X)\in O\)，而\(f(X)\)是有向，于
是\(f(X)\cap O\neq\emptyset\)，因此\(X\cap f^{-1}(O)\neq\emptyset\)。
\end{proof}

\begin{proposition}[]
给定完全偏序\(D,D'\)，定义\(D\times D'\)上的偏序为
\begin{equation*}
(x,x')\sqsubseteq(y,y')\Leftrightarrow x\sqsubseteq y\wedge x'\sqsubseteq y'
\end{equation*}
则\(D\times D'\)是完全偏序，给定任意有向集\(X\subseteq D\times D'\)，它的最小上界是
\begin{equation*}
\bigsqcup X=(\bigsqcup X_0,\bigsqcup X_1)
\end{equation*}
其中
\begin{align*}
X_0&=\{x\in D\mid\exists x'\in  D'(x,x')\in X\}\\
X_1&=\{x'\in D'\mid\exists x\in D(x,x')\in X\}
\end{align*}
\end{proposition}

\begin{proof}
首先\((\bot,\bot')\)是\(D\times D'\)的最小元。对于任意有向集合\(X\subseteq D\times D'\)，\(X_0,X_1\)也是有向集合，因
此\(\bigsqcup X_0,\bigsqcup X_1\)存在，于是对于任意\(X\)的上界\((A,B)\)，\(A\)是\(X_0\)的上界，\(B\)是\(X_1\)的上
界，因此\((\bigsqcup X_0,\bigsqcup X_1)\sqsubseteq(A,B)\)，因此\(\bigsqcup X=(\bigsqcup X_0,\bigsqcup X_1)\)。
\end{proof}


\begin{definition}[]
给定完全偏序\(D,D'\)，定义
\begin{equation*}
[D\to D']=\{f:D\to D'\mid f\text{连续}\}
\end{equation*}
并且定义\([D\to D']\)上的偏序为
\begin{equation*}
f\sqsubseteq g\Leftrightarrow\forall x\in D(f(x)\sqsubseteq'g(x))
\end{equation*}
\end{definition}

\begin{lemma}[]
\label{1.2.10}
令\(\{f_i\}_i\subseteq[D\to D']\)为有向的函数集合，定义
\begin{equation*}
f(x)=\bigsqcup_if_i(x)
\end{equation*}
则\(f\)是良定义的并且是连续的。
\end{lemma}

\begin{proof}
应为\(\{f_i\}_i\)有向，因此对于任意\(x\in D\)，\(\{f_i(x)\}_i\)有向，因此\(f\)存在且\(f(x)\)唯一。对于任意
有向集合\(X\subseteq D\)，
\begin{equation*}
f(\bigsqcup X)=\bigsqcup_i\bigsqcup_{x\in X}f_i(x)=\bigsqcup_{x\in X}\bigsqcup_if_i(x)=\bigsqcup f(X)
\end{equation*}
\end{proof}

下面使用\(\metalambda d\in D.\phi(a_1,\dots,a_n,d)\)来表示函数\(f(d)=\phi(a_1,\dots,a_n,d)\)，其中\(d\in D\)。

\begin{proposition}[]
\label{1.2.11}
\([D\to D']\)是完全偏序，并且对于任意有向\(F\subseteq[D\to D']\)，它的最小上界为
\begin{equation*}
(\bigsqcup F)(x)=\bigsqcup\{f(x)\mid f\in F\}
\end{equation*}
\end{proposition}

\begin{proof}
\(\metalambda x.\bot'\)是\([D\to D']\)的最小元，由引理\ref{1.2.10} ，\(\metalambda x.\bigsqcup\{f(x)\mid f\in F\}\)是
连续的，因此属于\([D\to D']\)，显然它是最小上界。
\end{proof}

\begin{proposition}[]
给定完全偏序\(D,D',D''\)，若\(f\in[D\to D']\)，\(g\in[D'\to D'']\)，定义\(g\circ f\)为对任意\(d\in D\)，
\((g\circ f)(d)=g(f(d))\)，则\(g\circ f\in[D\to D'']\)。
\end{proposition}

\begin{proof}
任给有向集合\(X\subseteq D\)，\(f\in[D\to D']\)，\(g\in[D'\to D'']\)，则
\begin{align*}
g\circ f(\bigsqcup X)&=g(f(\bigsqcup X))=g(\bigsqcup_{x\in X} f(x))=\bigsqcup_{x\in X}g(f(x))=\bigsqcup_{x\in X} g\circ f(x)
\end{align*}
\end{proof}


\begin{lemma}[]
\label{1.2.12}
令\(f:D\times D'\to D''\)，则\(f\)连续当且仅当它在\(D\)跟\(D'\)上连续，即对于任意\(x_0\in D,x_0'\in D'\)，
\(\metalambda x.f(x,x_0')\)和\(\metalambda x.f(x_0,x)\)连续。
\end{lemma}

\begin{proof}
\(\Rightarrow\)：令\(g=\metalambda x.f(x,x_0')\)，则对于有向集合\(X\subseteq D\)
\begin{align*}
g(\bigsqcup X)&=f(\bigsqcup X,x_0')=f(\bigsqcup\{(x,x_0')\mid x\in X\})\\
&=\bigsqcup\{f(x,x_0')\mid x\in X\}\\
&=\bigsqcup g(X)
\end{align*}
同理，\(\metalambda x.f(x_0,x)\)连续。

\(\Leftarrow\)：给定有向集合\(X\subseteq D\times D'\)，
\begin{align*}
f(\bigsqcup X)&=f(\bigsqcup X_0,\bigsqcup X_1)\\
&=\bigsqcup_{x\in X_0}f(x,\bigsqcup X_1)=\bigsqcup_{x\in X_0}\bigsqcup_{x'\in X_0'}f(x,x')\\
&=\bigsqcup_{(x,x')\in X}f(x,x')\\
&=\bigsqcup f(X)
\end{align*}
因此\(f\)连续。
\end{proof}

\begin{proposition}[]
\label{1.2.13}
给定完全偏序\(D,D'\)，令
\begin{equation*}
app:[D\to D']\times D\to D'
\end{equation*}
为\(app(f,x)=f(x)\)，则\(app\)连续。
\end{proposition}

\begin{proof}
给定有向集合\(F\subseteq[D\to D']\)，令\(h=\metalambda f.f(x)\)，则
\begin{align*}
h(\bigsqcup F)&=(\bigsqcup F)(x)=\bigsqcup\{f(x)\mid f\in F\}\\
&=\bigsqcup\{h(f)\mid f\in F\}=\bigsqcup h(F)
\end{align*}
因此\(h\)连续，同时因为\(\metalambda x.f(x)=f\)连续，由命题\ref{1.2.11} \(app\)连续
\end{proof}

\begin{proposition}[]
\label{1.2.14}
给定\(f\in[D\times D'\to D'']\)，定义\(\hatf(x)=\metalambda y\in D'(f(x,y))\)，则
\begin{enumerate}
\item \(\hatf\)连续；
\item \(\metalambda f.\hatf:[D\times D'\to D'']\to[D\to[D'\to D'']]\)连续。
\end{enumerate}
\end{proposition}

\begin{proof}
\begin{enumerate}
\item 对于任意有向集\(X\subseteq D\)，
\begin{align*}
\hatf(\bigsqcup X)&=\metalambda y.f(\bigsqcup X,y)=\metalambda y.\bigsqcup_{x\in X}f(x,y)\\
&=\bigsqcup_{x\in X}(\metalambda y.f(x,y))\\
&=\bigsqcup\hatf(X)
\end{align*}
\item 令\(L=\metalambda f.\hatf\)，对于任意有向集\(F\subseteq[D\times D'\to D'']\)，
\begin{align*}
L(\bigsqcup F)&=\metalambda x.\metalambda y.(\bigsqcup F)(x,y)=\metalambda x\metalambda y.\bigsqcup_{f\in F}f(x,y)\\
&=\bigsqcup_{f\in F}\metalambda x.\metalambda y.f(x,y)=\bigsqcup L(F)
\end{align*}
\end{enumerate}
\end{proof}

\begin{definition}[]
\(\CPO\)是以完全偏序为元素连续映射为态射的范畴。
\end{definition}

\begin{theorem}[]
\(\CPO\)是笛卡儿闭范畴。
\end{theorem}

\begin{proof}
\(D\times D'\)是\(\CPO\)中的乘积，同时单元素完全偏序是终对象，而
对于任意\(f:D\times D'\to D''\)，由命题\ref{1.2.13} 和\ref{1.2.14} ，都存在
唯一的\(\hatf:D\to[D'\to D'']\)使得
\begin{center}\begin{tikzcd}
D\times D'\ar[r,"f"]\ar[d,dashed,"\hatf\times\id_{D'}"']&D\\
\left[D'\to D''\right]\times D'\ar[ur,"app"]
\end{tikzcd}\end{center}
交换。
\end{proof}

\begin{definition}[]
令\(D_0,D_1,\dots\)是可数的完全偏序序列，令\(f_i\in[D_{i+1}\to D_i]\)，
\begin{enumerate}
\item 序列\((D_i,f_i)\)称为完全偏序的 \textbf{逆向系统} (inverse system)。
\item 系统\((D_i,f_i)\)的 \textbf{逆向极限} (inverse limit) \(\varprojlim(D_i,f_i)\)（或记作\(\varprojlim D_i\)）是偏序集\((D_\infty,\sqsubseteq_\infty)\)，其中
\begin{align*}
D_\infty=\{(x_0,x_1,\dots)\mid\forall i\in\N(x_i\in D_i\wedge\psi_i(x_{i+1})=x_i)\}
\end{align*}
并且
\begin{equation*}
(x_0,x_1,\dots)\sqsubseteq_\infty(y_0,y_1,\dots)\Leftrightarrow\forall i\in\N(x_i\sqsubseteq y_i)
\end{equation*}
\end{enumerate}
\end{definition}

\begin{proposition}[]
给定逆向系统\((D_i,f_i)\)，则\(\varprojlim(D_i,f_j)\)是完全偏序且对任意有向\(X\subseteq\varprojlim D_i\)，
\begin{equation*}
\bigsqcup X=\metalambda i.\bigsqcup\{x(i)\mid x\in X\}
\end{equation*}
\end{proposition}

\begin{proof}
对于任意有向\(X\subseteq D_\infty\)，则对任意\(i\in\N\)，\(\{x(i)\mid x\in X\}\)有向，令
\begin{equation*}
y_i=\bigsqcup\{x(i)\mid x\in X\}
\end{equation*}
则由\(\psi_i\)的连续性，
\begin{equation*}
\psi_i(y_{i+1})=\bigsqcup f_i(\{x(i+1)\mid x\in X\})=\bigsqcup\{x(i)\mid x\in X\}=y_i
\end{equation*}
因此\((y_0,y_1,\dots)\in \varprojlim D_i\)。
\end{proof}

因此在\(\CPO\)中，逆向极限存在。

\section{\texorpdfstring{\(D_\infty\)}{D}}
\label{sec:orgd08c877}
\begin{definition}[]
给定完全偏序\(D\)和\(D'\)，\(D\)与\(D'\) \textbf{同构} 当且仅当存在\(\phi\in[D\to D']\)与\(\psi\in[D'\to D]\)使得
\begin{equation*}
\psi\circ\phi=\id_D,\quad\phi\circ\psi=\id_{D'}
\end{equation*}
\end{definition}


\begin{definition}[]
给定完全偏序\(D\)和\(D'\)。函数的二元组\(\la\varphi,\psi\ra\)是从\(D'\)到\(D\)的 \textbf{投射} 如果
\begin{enumerate}
\item \(\varphi\in[D\to D']\), \(\psi\in[D'\to D]\)
\item \(\psi\circ\varphi=\id_D\)
\item \(\varphi\circ\psi\sqsubseteq\id_{D'}\)
\end{enumerate}
\end{definition}

注意到\(D\)与\(\varphi\psi(D)\)同构，因此在同构的意义下\(D\subseteq D'\)。

\begin{definition}[]
定义\(D_0=\N^+\)，\(D_{n+1}=[D_n\to D_n]\)，记\(D_n\)的最小元为\(\bot_n\)
\end{definition}

由\ref{1.2.11} ，对任意\(n\in\N\)，\(D_n\)是完全偏序。

\begin{lemma}[]
给定\(D'\)到\(D\)的投射\((\varphi,\psi)\)，存在从\([D'\to D']\)到\([D\to D]\)的投射\((\varphi^*,\psi^*)\)满足：对于任
意\(f\in[D\to D]\)，\(g\in[D'\to D']\)有
\begin{equation*}
\varphi^*(f)=\varphi\circ f\circ\psi,\quad\psi^*(g)=\psi\circ g\circ\varphi
\end{equation*}

\begin{center}\begin{tikzcd}
D\ar[d,"f"']&D'\ar[l,"\psi"']\ar[d,dashed,"\varphi^*(f)"]\\
D\ar[r,"\varphi"']&D'
\end{tikzcd}\quad\begin{tikzcd}
D\ar[r,"\varphi"]\ar[d,dashed,"\psi^*(g)"']&D'\ar[d,"g"]\\
D&D'\ar[l,"\psi"]
\end{tikzcd}\end{center}
\end{lemma}

\begin{proof}
注意到
\begin{align*}
\varphi^*(f)&=\metalambda x'\in D'.\varphi(f(\psi(x)))\\
&=\metalambda x'\in D'.\varphi(app(f,\psi(x)))
\end{align*}
于是\(\varphi^*\)是连续的，类似的\(\psi^*\)是连续的。同时
\begin{gather*}
\psi^*(\varphi^*(f))=\psi\circ\varphi\circ f\circ\psi\circ\varphi=f\\
\varphi^*(\psi^*(f))=\varphi\circ\psi\circ f\circ\varphi\circ\psi\sqsubseteq f
\end{gather*}
\end{proof}

\begin{lemma}[]
给定完全偏序\(D\)，定义\(\varphi_0:D\to[D\to D]\)，\(\psi_0:[D\to D]\to D\)为
\begin{align*}
&\varphi_0(x)=\metalambda y\in D.x\\
&\psi_0(f)=f(\bot)
\end{align*}
则\((\varphi_0,\psi_0)\)是从\([D\to D]\)到\(D\)的投射。
\end{lemma}

\begin{proof}
首先证明\(\varphi_0\)连续，给定有向集\(X\subseteq D\)，
\begin{align*}
\varphi_0(\bigsqcup X)&=\metalambda y\in D.\bigsqcup X=\bigsqcup_{x\in X}\metalambda y\in D.x\\
&=\bigsqcup\varphi_0(X)
\end{align*}
同理，\(\psi_0\)连续。同时
\begin{align*}
\varphi_0(\psi_0(f))&=\varphi_0(f(\bot))=\metalambda x.f(\bot)\\
&\sqsubseteq\metalambda x.f(x)=f\\
\psi_0\circ\varphi_0(f)&=\varphi_0(f)(\bot)=f
\end{align*}
\end{proof}

\begin{definition}[构造\(D_\infty\)]
给定完全偏序\(D\)与\((\varphi_0,\psi_0)\)如上，定义
\begin{align*}
&D_0=D\\
&D_{n+1}=[D_n\to D_n]\\
&(\varphi_{n+1},\psi_{n+1})=(\varphi_n^*,\psi_n^*)
\end{align*}
令\(D_\infty=\varprojlim(D_n,\psi_n)\)，记\(x\in D_\infty\)为\((x_0,x_1,\dots)\)。
\end{definition}


\begin{definition}[]
\begin{enumerate}
\item 对于\(n,m\in\N\)，定义\(\Phi_{nm}:D_n\to D_m\)为：

若\(n\le m\), \(m=n+k\)，则递归定义\(\Phi_{nm}\)为
\begin{align*}
&\Phi_{nn}=\lambda x\in D_n.x\\
&\Phi_{n(m+1)}=\varphi_m\circ\Phi_{nm}
\end{align*}
若\(m\le n\)，\(n=m+k\)，递归定义\(\Phi_{nm}\)为
\begin{equation*}
\Phi_{(n+1)m}=\Phi_{nm}\circ\psi_n
\end{equation*}
\item 定义\(\Phi_{\infty n}:D_\infty\to D_n\)为\(\Phi_{\infty n}(x)=x_n\)。
\item 定义\(\Phi_{n\infty}:D_n\to D_\infty\)为\(\Phi_{n\infty}(x)=(\Phi_{ni}(x))_{i\in\N}\)
\end{enumerate}
\end{definition}

\begin{lemma}[]
\begin{enumerate}
\item 对于\(0\le n\le m\le\infty\)，\((\Phi_{nm},\Phi_{mn})\)是从\(D_m\)到\(D_n\)的投射
\item 对于\(0\le n\le m\le l\le\infty\)，\(\Phi_{ml}\circ\Phi_{nm}=\Phi_{nl}\)
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{enumerate}
\item 若\(n<m<\infty\)，对于任意\(x\in D_m\)，
\begin{align*}
\Phi_{nm}\circ\Phi_{mn}&=(\varphi_{m-1}\circ\dots\circ\varphi_n\circ\id_{D_n})\circ(\id_{D_n}\circ\psi_n\circ\dots\circ\psi_{m-1})\\
&\sqsubseteq\id_{D_m}\\
\Phi_{mn}\circ\Phi_{nm}&=(\id_{D_n}\circ\psi_1\circ\dots\circ\psi_{m-1})\circ(\varphi_{m-1}\circ\dots\circ\varphi_1\circ\id_{D_n})\\
&=\id_{D_n}
\end{align*}
\(n<m=\infty\)和\(n=m=\infty\)的情况类似。
\item 根据定义类似可得。
\end{enumerate}
\end{proof}

注意到在同构的意义下，
\begin{equation*}
D_0\subseteq D_1\subseteq\dots\subseteq D_\infty
\end{equation*}
又有一个事实是在\(\CPO\)中，\(D_\infty\)不仅是逆向极限，也是正向极限
\begin{equation*}
D_\infty\cong\varinjlim(D_n,\varphi_n)
\end{equation*}
因此每个元素\(x\in D_n\)也可被\(\Phi_{n\infty}(x)\in D_\infty\)刻画。

\begin{lemma}[]
\label{18.2.7}
\begin{enumerate}
\item 如果\(x\in D_n\)，则\((\Phi_{n\infty}(x))n=x\)。
\item 如果\(x\in D_n\)，则\(\Phi_{(n+1)\infty}\varphi_n(x)=\Phi_{n\infty}x\)。
\item 如果\(x\in D_{n+1}\)，则\(\Phi_{n\infty}\psi_n(x)\sqsubseteq \Phi_{(n+1)\infty}x\)。
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{enumerate}
\item 在\(D_\infty\)中，\(x\)为\(\Phi_{n\infty}(x)\)，因此\(x_n=x\)。
\item \(\varphi_n(x)\)在\(D_\infty\)中为\((\dots,\psi_n(\varphi_n(x)),\varphi_n(x),\varphi_{n+1}\varphi_n(x),\dots)\)，因
为\(\psi_n(\varphi_n(x))=x\)，因此\(\varphi_n(x)=x\)。
\item \(\varphi_n\psi_n(x)\sqsubseteq x\)。
\end{enumerate}
\end{proof}

\begin{lemma}[]
\label{18.2.8}
在\(D_\infty\)中，若\(x\in D_\infty\)，则
\begin{enumerate}
\item \((\Phi_{n\infty}x_n)_m=x_{\min(n,m)}\)
\item \(n\le m\Rightarrow \Phi_{n\infty}(x_n)\sqsubseteq\Phi_{m\infty}(x_m)\sqsubseteq x\)
\item \(x=\bigsqcup_{n\in\N}\Phi_{n\infty}x_n\)
\item \(\Phi_{n\infty}(\bot_n)=\bot\)
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{enumerate}
\item 由 \ref{18.2.7} (2).
\item 由\ref{18.2.7} (3)，\(\Phi_{m\infty}(x_m)=\Phi_{m\infty}(\psi_m(x_{m+1}))\sqsubseteq\Phi_{(m+1)\infty}(x_{m+1})\)，因此
\(\Phi_{0\infty}(x_0)\sqsubseteq\Phi_{1\infty}(x_1)\sqsubseteq\cdots\)。并且，由于对于任意\(i\in\N\)，
\((\Phi_{n\infty}x_n)_i=x_{\min(i,n)}\sqsubseteq x_i\)，有\(x_n\sqsubseteq x\)。
\item 由（2），集合\(X=\{\Phi_{n\infty}(x_n)\mid n\in\N\}\)有向，因此
\begin{align*}
\bigsqcup X&=(\bigsqcup_n(\Phi_{n\infty}(x_n))_i)_{i\in\N}\\
&=(\bigsqcup_n\Phi_{\min(n,i)\infty}(x_{\min(n,i)}))_{i\in\N}\\
&=(x_i)_{i\in\N}=x
\end{align*}
\item 由（2），\(\Phi_{n\infty}(\bot_n)\sqsubseteq\bot\sqsubseteq\Phi_{n\infty}\bot_n\)。
\end{enumerate}
\end{proof}

\begin{lemma}[]
\label{18.2.9}
若\(x,y\in D_\infty\)，则对所有\(n,k\in\N\)，\(n\le k\)，有
\begin{enumerate}
\item \(\Phi_{n\infty}(x_{n+1}(y_n))\sqsubseteq \Phi_{(n+1)\infty}(x_{k+1}(y_k))\)
\item \(\Phi_{(k+1)\infty}((\Phi_{(n+1)\infty}(x_{n+1}))_{k+1}(y_k))=\Phi_{n\infty}(x_{n+1}(y_n))\)
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{enumerate}
\item 只需证明\(k=n+1\)的情况：
\begin{align*}
\Phi_{n\infty}(x_{n+1}(y_n))&=\Phi_{n\infty}((\psi_{n+1}(x_{n+2}))(\psi_n(y_{n+1})))\\
&=\Phi_{n\infty}(\psi_n\circ x_{n+2}\circ\varphi_n(\psi_n(y_{n+1})))\\
&\sqsubseteq\Phi_{n\infty}(\psi_n(x_{n+2}(y_{n+1})))\\
&\sqsubseteq\Phi_{(n+1)\infty}(x_{n+2}(y_{n+1}))
\end{align*}
\item 对\(k\ge n\)归纳，考虑\(k+1\)的情况：
\begin{align*}
\Phi_{(k+1)\infty}((\Phi_{(n+1)\infty}(x_{n+1}))_{k+2}(y_{k+1}))
&=\Phi_{(k+1)\infty}(\varphi_{k+1}(\Phi_{(n+1)\infty}(x_{n+1}))_{k+1}(y_{k+1}))\\
&=\Phi_{(k+1)\infty}(\varphi_k\circ(\Phi_{(n+1)\infty}(x_{n+1}))_{k+1}\circ\psi_k(y_{k+1}))\\
&=\Phi_{(k+1)\infty}(\varphi_k\circ(\Phi_{(n+1)\infty}(x_{n+1}))_{k+1}(y_k))\\
&=\Phi_{k\infty}(\Phi_{(n+1)\infty}(x_{n+1})_{k+1}(y_k))\\
&=\Phi_{n\infty}(x_{n+1}(y_n))
\end{align*}
\end{enumerate}
\end{proof}

\begin{lemma}[]
\label{16.42}
对于任意\(x,y\in D_\infty\)，
\begin{equation*}
\Phi_{n\infty}(x_{n+1}(y_n))\sqsubseteq\Phi_{(n+1)\infty}(x_{n+2}(y_{n+1}))
\end{equation*}
\end{lemma}

\begin{proof}
首先
\begin{align*}
\phi_n(x_{n+1}(y_n))&=\phi_n(\psi_{n+1}(x_{n+2})(\psi_{n}(y_{n+1})))\\
&=\phi_n(\psi_n(x_{n+2}(\phi_n(\psi_n(y_{n+1})))))\\
&\sqsubseteq\phi_n(\psi_n(x_{n+2}(y_{n+1})))\\
&\sqsubseteq x_{n+2}(y_{n+1})
\end{align*}
于是
\begin{align*}
\Phi_{(n+1)\infty}(\phi_n(x_{n+1}(y_n)))\sqsubseteq\Phi_{(n+1)\infty}(x_{n+2}(y_{n+1}))
\end{align*}
注意到\(\Phi_{(n+1)\infty}\phi_n=\Phi_{(n+1)\infty}\Phi_{n(n+1)}=\Phi_{n\infty}\)，因此
\begin{equation*}
\Phi_{n\infty}(x_{n+1}(y_n))\sqsubseteq\Phi_{(n+1)\infty}(x_{n+2}(y_{n+1}))
\end{equation*}
\end{proof}

\begin{definition}[]
给定\(x,y\in D_\infty\)，于是由引理\ref{16.42} ，\(\{\Phi_{n\infty}(x_{n+1}(y_n)):n\ge 0\}\)是一个递增序列，因此有最
小上界，定义
\begin{equation*}
x\cdot y=\bigsqcup_{n\ge 0}\Phi_{n\infty}(x_{n+1}(y_n))
\end{equation*}
即
\begin{equation*}
x\cdot y=\bigsqcup_n\Phi_{n\infty}(app_n(\Phi_{\infty(n+1)}(x),\Phi_{\infty n}(y)))
\end{equation*}
其中\(app_n:[D_{n+1}\times D_n]\to D_n\)。
\end{definition}


\begin{proposition}[]
\label{18.2.11}
\(D_\infty\)上的\(\cdot\)连续。
\end{proposition}

\begin{proposition}[]
\label{18.2.12}
若\(x\in D_{n+1},y\in D_n\)，则
\begin{equation*}
\Phi_{(n+1)\infty}(x)\cdot\Phi_{n\infty}(y)=\Phi_{n\infty}(x(y))
\end{equation*}
\end{proposition}

\begin{proof}
\begin{align*}
\Phi_{(n+1)\infty}(x)\cdot\Phi_{n\infty}(y)&=
\bigsqcup_{k=0}^\infty\Phi_{k\infty}(\Phi_{(n+1)(k+1)}(x)(\Phi_{nk}(y)))\\
&=\bigsqcup_{k=0}^n\Phi_{k\infty}x_{i+1}(y_i)\tag{\ref{18.2.8}(1)}\\
&=\Phi_{n\infty}(x_{n+1}(y_n))\tag{\ref{18.2.9}}
\end{align*}
\end{proof}

\begin{proposition}[]
\label{18.2.13}
对于任意\(x,y\in D_\infty\)以及\(n\in\N\)
\begin{enumerate}
\item \((\Phi_{(n+1)\infty}x_n)\cdot y=\Phi_{(n+1)\infty}(x)_{n+1}\cdot\Phi_{n\infty}(y)=\Phi_{n\infty}((x\cdot\Phi_{n\infty}(y))_n)\)
\item \(\Phi_{0\infty}(x_0)\cdot y=\Phi_{0\infty}(x_0)=\Phi_{0\infty}((x\cdot\bot)_0)\)
\end{enumerate}
\end{proposition}

\begin{proof}
\begin{enumerate}
\item \begin{align*}
\Phi_{(n+1)\infty}(x_{n+1})\cdot y&=\bigsqcup_{i=0}^\infty\Phi_{i\infty}((\Phi_{(n+1)\infty}x_{n+1})_{i+1}(y_i))\\
&=\bigsqcup_{i=n}^\infty\Phi_{i\infty}((\Phi_{(n+1)\infty}x_{n+1})_{i+1}(y_i))\tag{\ref{18.2.9}(1)}\\
&=\bigsqcup_{i=n}^\infty\Phi_{n\infty}(x_{n+1}(y_n))\tag{\ref{18.2.9}(2)}\\
&=\Phi_{n\infty}(x_{n+1}(y_n))\tag{\ref{18.2.12}}
\end{align*}
另一方面，
\begin{align*}
\Phi_{n\infty}((x\cdot\Phi_{n\infty}(y))_n)&=\Phi_{n\infty}\left(\left(\bigsqcup_{i=0}^\infty\Phi_{i\infty}((x_{i+1}(\Phi_{n\infty}(y_n))_i))\right)_n\right)\\
&=\Phi_{n\infty}\left(\bigsqcup_{i=0}^\infty\Big(\Phi_{i\infty}((x_{i+1}(\Phi_{n\infty}(y_n))_i))\Big)_n\right)\\
&=\Phi_{n\infty}\left(\bigsqcup_{i=n}^\infty\Big(\Phi_{i\infty}((x_{i+1}(\Phi_{n\infty}(y_n))_i))\Big)_n\right)\\
&=\Phi_{n\infty}\left( \bigsqcup_{i=n}^\infty\Phi_{n\infty}(x_{n+1}(y_n)) \right)\\
&=\Phi_{(n+1)\infty}(x_{n+1})\cdot\Phi_{n\infty}(y_n)
\end{align*}
\item \begin{align*}
 \Phi_{0\infty}(x_0)\cdot y&=\Phi_{1\infty}((\Phi_{0\infty}(x_0))_1)\cdot y\\
 &=\Phi_{0\infty}((\Phi_{0\infty}(x_0))_1((\Phi_{1\infty})(y_0)))\tag{\ref{18.2.12}}\\
 &=\Phi_{0\infty}(\varphi_0(x_0)(y_0))=\Phi_{0\infty}(x_0)
\end{align*}
\end{enumerate}
\end{proof}




\begin{theorem}[外延性]
\label{18.2.14}
对于\(x,y\in D_\infty\)
\begin{enumerate}
\item \(x\sqsubseteq y\Leftrightarrow\forall z\in D_\infty(x\cdot z\sqsubseteq y\cdot z)\)
\item \(x=y\Leftrightarrow\forall z\in D_\infty(x\cdot z=y\cdot z)\)
\end{enumerate}
\end{theorem}

\begin{proof}
\begin{enumerate}
\item \(\Rightarrow\)：因为\(\cdot\)是连续的，因此\(\metalambda x.x\cdot z\)是单调的。

\(\Leftarrow\)：假设\(\forall z\in D_\infty(x\cdot z\sqsubseteq y\cdot z)\)，于是\(x\cdot\bot\sqsubseteq y\cdot\bot\)，由命题\ref{18.2.13} （2）得
\begin{equation*}
\Phi_{0\infty}(x_0)=\Phi_{0\infty}((x\cdot\bot)_0)\sqsubseteq\Phi_{0\infty}((y\cdot\bot)_0)=\Phi_{0\infty}(y_0)
\end{equation*}
由于\(x\cdot\Phi_{n\infty}(z_n)\sqsubseteq y\cdot\Phi_{n\infty}(z_n)\)，由命题\ref{18.2.12} 和\ref{18.2.13} 得
\begin{equation*}
\Phi_{n\infty}(x_{n+1}(z_n))=\Phi_{n\infty}((x\cdot\Phi_{n\infty}(z_n))_n)
\sqsubseteq\Phi_{n\infty}((y\cdot\Phi_{n\infty}(z_n))_n)=\Phi_{n\infty}(y_{n+1}(z_n))
\end{equation*}
因此
\begin{equation*}
\forall n\in\N\forall z\in D_n(\Phi_{n\infty}(x_{n+1}(z))\sqsubseteq\Phi_{n\infty}(y_{n+1}(z)))
\end{equation*}
即\(\Phi_{n+1}(x_{n+1})\sqsubseteq\Phi_{n+1}(y_{n+1})\)，即\(x\sqsubseteq y\)。
\item 由（1）。
\end{enumerate}
\end{proof}

\begin{theorem}[完全性]
\label{18.2.15}
对于\(f\in[D_\infty\to D_\infty]\)，定义
\begin{equation*}
\Box f=\bigsqcup_n\Phi_{(n+1)\infty}(\metalambda y\in D_n.(f(y))_n)
\end{equation*}
则
\begin{equation*}
\forall y\in D_\infty(f(y))=\Box f\cdot y
\end{equation*}
\end{theorem}

\begin{proof}
\begin{align*}
\Box f\cdot y&=\bigsqcup_m\Phi_{m\infty}((\Box f)_{m+1}(y_m))=\bigsqcup_m\Phi_{m\infty}((\Box f\cdot\Phi_{m\infty}(y_m))_m)\\
&=\bigsqcup_m\Phi_{m\infty}\left( \left(
\Big(\bigsqcup_n\Phi_{(n+1)\infty}(
\metalambda y\in D_n.(f(y))_n)\Big)\cdot\Phi_{m\infty}(y_m)  \right)_m \right)\\
&=\bigsqcup_{m,n}\Phi_{m\infty}\left(
\left(
\Phi_{(n+1)\infty}(\metalambda y\in D_n.(f(y))_n)\cdot\Phi_{m\infty}(y_m)  \right)_m \right)\\
&=\bigsqcup_m\Phi_{m\infty}\left( \left(
(\metalambda y\in D_m.(f(y))_m)(y_m)  \right)_m \right)\\
&=\bigsqcup_m\Phi_{m\infty}(f(\Phi_{m\infty}(y_m))_m)=\bigsqcup_{k,l}\Phi_{l\infty}((f(\Phi_{k\infty}(y_k)))_l)\\
&=\bigsqcup_k f(\Phi_{k\infty}(y_k))=f(y)
\end{align*}
\end{proof}

\begin{theorem}[]
\(D_\infty\cong[D_\infty\to D_\infty]\)
\end{theorem}

\begin{proof}
对于\(x\in D_\infty\)，令\(F(x)=\metalambda y\in D_\infty.x\cdot y\)，由定理 \ref{18.2.15} ，\(F\)是满射，由定理
\ref{18.2.14} (2)，\(F\)是单射，由命题 \ref{18.2.11} \(F\)连续，\(F\)的逆是
\begin{equation*}
G=\metalambda f.\bigsqcup_n\Phi_{(n+1)\infty}(\metalambda y\in D_n.\Phi_{\infty n}(f(\Phi_{n\infty}(y))))
\end{equation*}
\end{proof}


\nocite{hindley2008lambda}
\nocite{zbMATH03877147}

\label{bibliographystyle link}
\bibliographystyle{acm}

\label{bibliography link}
\bibliography{../../references}
\end{document}
