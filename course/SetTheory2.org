#+TITLE: Set Theory2

#+AUTHOR: Yao

#+EXPORT_FILE_NAME: ../latex/SetTheory2/SetTheory2.tex
#+LATEX_HEADER: \graphicspath{{../../books/}}
#+LATEX_HEADER: \input{../preamble.tex}
#+LATEX_HEADER: \makeindex
#+LATEX_HEADER: \usepackage[UTF8]{ctex}
#+LATEX_HEADER: \def \FORM {\text{FORM}}
#+LATEX_HEADER: \def \PROOF {\text{PROOF}}
* 集合的宇宙
** 数理逻辑
    在\(\ZFC\)下证明\(\ZFC\vdash\CH\)，希望将"\(\ZFC\vdash\CH\)"表述为一阶句子

    一般而言，给定一个\(\call\)-理论\(T\)和一个\(\call\)-句子\(\delta\)，"\(T\vdash\sigma\)"不能用一个\(\call\)-句子表示，只能
    用元语言表述

    我们需要在\(\ZFC\)中编码“元语言”

    在\(\ZFC\)中可以定义\(\caln=(\N,+,\times,0,1)\)

    即存在集合论语言\(\call=\{\in\}\)中的 *公式* ，在\(\ZFC\)的任意模型中可以定义 \(\N,+,\times,0,1\)，以上公式与模
    型无关

    用\(\ucorner{0}\)，\(\ucorner{1}\)，\(\ucorner{2}\)... 表示\(\ZFC\)中的“自然数”，以区别元语言中
    的自然数

    #+ATTR_LATEX: :options []
    #+BEGIN_theorem
    如果\(R\subseteq\N^n\)是一个递归关系。\(T\subseteq\Th(\caln)\)是包含数论的适当丰富的理论，则存在公式\(\varphi(x_1,\dots,x_n)\)使
    得对任意自然数\(m_1,\dots,m_n\)有
    \begin{align*}
    &\text{如果}(m_1,\dots,m_n)\in R\text{则}T\vdash\varphi(\ucorner{m_1},\dots,\ucorner{m_n})\\
    &\text{如果}(m_1,\dots,m_n)\notin R\text{则}T\vdash\neg\varphi(\ucorner{m_1},\dots,\ucorner{m_n})
    \end{align*}
    #+END_theorem

    #+BEGIN_remark
    1. \(T\subseteq\Th(\caln)\subseteq\ZFC\)
    2. \(\varphi\)是语言\(\{+,\times,0,1\}\)上的公式
    3. \(\varphi\)可以还原为一个\(\{\in\}\)上的公式
    4. \(\varphi(\ucorner{m_1},\dots,\ucorner{m_n})\)是一个闭语句
    #+END_remark

    *编码*

    编码函数\(f:X\to\N\)

    存在解码函数\(g,h\)，对\(a=a_0,\dots,a_n\in X\), \(h(f(a))=n+1\), \(g(f(a),k)=a_k\) (分量)

    性质：以上三种函数\(f,g,h\)均是递归函数\(\Rightarrow\)都是可表示的

    性质：“公式集”的编码集是递归的

    性质：如果\(T\subseteq\ZFC\)是可公理化的，则\(T\)的证明集的编码集是递归的

    #+ATTR_LATEX: :options []
    #+BEGIN_corollary
    存在一个公式 \(\psi\) 和\(\theta\)使得
    \begin{align*}
    \ZFC\vdash\psi(n)&\Leftrightarrow n\text{ is a formula}\\
    \ZFC\vdash\neg\psi(n)&\Leftrightarrow n\text{ is not a formula}\\
    \ZFC\vdash\theta(n)&\Leftrightarrow n\text{ is a proof in }\ZFC\\
    \ZFC\vdash\neg\theta(n)&\Leftrightarrow n\text{ is not a proof in }\ZFC\\
    \end{align*}
    称\(\psi\)定义了公式集，\(\theta\)定义了证明集
    #+END_corollary

    \(\FORM=\{\ucorner{\varphi}\mid\varphi\text{ formula}\}\subseteq\N\)

    如果\(T\subseteq\ZFC\)是可公理化的，则“\(T\)是一致的”是一个一阶表述式
    “不存在一个有穷的证明序列\(D=(\varphi_1,\dots,\varphi_n)\)使得\(\varphi_n\)形如\(\varphi\wedge\neg\varphi\)
，记作\(\Con(T)\)

    #+ATTR_LATEX: :options [第二不完全]
    #+BEGIN_theorem
    如果\(T\)是包含\(\ZFC\)的一个递归公理集，且\(T\)一致，则
    \begin{equation*}
    T\not\vdash\Con(T)
    \end{equation*}
    特别地，\(\ZFC\not\vdash\Con(\ZFC)\)
    #+END_theorem

    #+ATTR_LATEX: :options []
    #+BEGIN_theorem
    对任意可公理化的理论\(T\)，\(\ZFC\vdash\Con(T)\)当且仅当存在\(M\vDash T\)
    #+END_theorem

    即不能在\(\ZFC\)里证明\(\ZFC\)有一个模型

    需要可公理化来写出\(\Con(T)\)，因此因为\(\ZFC\not\vDash\Con(T)\)，我们只能假设这么一个模型

    集合论的模型跟集合论没什么关系，就是一个集合带一个二元关系，是关于集合论语言的结构

    #+ATTR_LATEX: :options []
    #+BEGIN_definition
    设\((M,E)\)是集合论模型
    1. 对任意公式\(\varphi(\barx,y)\)，定义\(M^n\)上的函数
       \begin{equation*}
       h_\varphi:M^n\to M
       \end{equation*}
       满足条件
       \begin{equation*}
       M\vDash\exists y\varphi(\bara,y)\Rightarrow M\vDash\varphi(\bara,h_\varphi(\bara))
       \end{equation*}
       称\(h_\varphi\)为\(\varphi\)的Skolem函数（依赖于选择公理，不同的变量选择有不同的函数）
    2. 令\(\calh=\{h_\varphi\mid\varphi\text{ formula}\}\)为Skolem函数集合，设\(S\)是\(M\)的任意子集，则\(\calh(S)\)表示包
       含\(S\)且对\(\calh\)封闭的最小集合，称之为\(S\)的Skolem壳
    #+END_definition

    #+ATTR_LATEX: :options []
    #+BEGIN_lemma
    令\(N\)是集合论模型，\(S\subseteq N\)，如果\(M=\calh(S)\)，则\(M\prec N\)
    #+END_lemma

    #+BEGIN_proof
    Induction

    对任意\(\bara\in M^n\)，有\(M\vDash\varphi(\bara)\Leftrightarrow N\vDash\varphi(\bara)\)
    1. 不含量词，显然成立
    2. \(\varphi\)形如\(\exists y\psi(\barx,y)\), \(N\vDash\exists y\psi(\bara,y)\Rightarrow N\vDash\psi(\bara,h_\psi(\bara))\)，by
       IH, \(M\vDash\psi(\bara,h_\varphi(\bara))\Rightarrow M\vDash\exists y\psi(\bara,y)\)
    #+END_proof

    #+ATTR_LATEX: :options [Löwenheim–Skolem Theorem]
    #+BEGIN_theorem

    #+END_theorem
** 层垒的谱系
    工作于\(\ZF^-\)：\(\ZF-\)基础公理

    \(\alpha\mapsto V_\alpha\)是\(\On\)到\(\WF\)的1-1映射，而\(\On\)是真类

    #+ATTR_LATEX: :options []
    #+BEGIN_lemma
    For any ordinal \alpha
    1. \(V_\alpha\) is transitive
    2. \(\xi\le\alpha\Rightarrow V_\xi\subseteq V_\alpha\)
    3. if \kappa is inaccessible, then \(\abs{V_\kappa}=\kappa\)
    #+END_lemma

    #+ATTR_LATEX: :options []
    #+BEGIN_definition
    For any \(x\in\WF\), *rank* of \(x\) is
    \begin{equation*}
    \rank(x)=\min\{\beta\mid x\in V_{\beta+1}\}
    \end{equation*}
    #+END_definition

    \(\rank(x)=\alpha\Rightarrow x\in V_{\alpha+1}\wedge x\notin V_\alpha\)

    #+ATTR_LATEX: :options []
    #+BEGIN_lemma
    1. \(V_\alpha=\{x\in\WF\mid\rank(x)<\alpha\}\)
    2. \(\WF\) is transitive
    3. \(\forall x,y\in\WF\), \(x\in y\Rightarrow\rank(x)<\rank(y)\)
    4. \(\forall y\in\WF\), \(\rank(y)=\sup\{\rank(x)+1\mid x\in y\}\)
    #+END_lemma


** Exercise
    #+BEGIN_exercise
    label:ex7.10.3
    1. \(V_\alpha=\{x\in\WF\mid\rank(x)<\alpha\}\)
    2. \(\WF\) is transitive
    3. \(\forall x,y\in\WF\), \(x\in y\Rightarrow\rank(x)<\rank(y)\)
    4. \(\forall y\in\WF\), \(\rank(y)=\sup\{\rank(x)+1\mid x\in y\}\)
    #+END_exercise

    #+BEGIN_proof
    1. by definition, \(x\in V_{\rank(x)+1}\setminus V_{\rank(x)}\), \(\rank(x)<\alpha\Rightarrow x\in V_{\rank(x)+1}\subseteq V_\alpha\)

       \(\rank(x)\ge\alpha\Rightarrow x\notin V_\alpha\)

    2. \(\WF\) is the "union" of transitive sets

    3. \(y\in V_{\rank(y)+1}\setminus V_{\rank(y)}\), \(y\subseteq V_{\rank(y)}\), \(x\in y\Rightarrow x\in V_{\rank(y)}\Rightarrow\rank(x)<\rank(y)\)

    4. by 3, \(\sup\{\rank(x)+1\mid x\in y\}\le\rank(y)\).

       induction on \(\rank(y)\le\sup\{\rank(x)+1\mid x\in y\}\)
       * \(\rank(y)=0\)
       * \(\rank(y)=\beta+1\), \(y\in V_{\beta+2}\setminus V_{\beta+1}\)

         \(y\in V_{\beta+2}\Rightarrow y\subseteq V_{\beta+1}\). \(y\notin V_{\beta+1}\Rightarrow y\not\subseteq V_{\beta}\Rightarrow y\setminus V_\beta\) nonempty.
         Let \(x\in y\setminus V_\beta\), \(\rank(x)\ge\beta\), \(\sup\{\rank(x)+1\mid x\in y\}\ge\beta+1=\rank(y)\)
       * \(\rank(y)=\gamma\) for some limit, then \(y\subseteq V_\gamma\) and for any \(\xi<\gamma\), \(y\not\subseteq V_\xi\),
         let \(X_\xi\in y\setminus V_\xi\), then \(\rank(X_\xi)\ge\xi\), \(\sup\{\rank(x)+1\mid x\in y\}\ge\sup\{\xi+1\mid\xi<\rank(y)\}\ge\rank(y)\)
    #+END_proof
