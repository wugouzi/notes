% Created 2021-10-13 Wed 18:23
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\input{../../../../preamble-lite.tex}
\author{Qi'ao Chen\\21210160025}
\date{\today}
\title{Homework3}
\hypersetup{
 pdfauthor={Qi'ao Chen\\21210160025},
 pdftitle={Homework3},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 27.2 (Org mode 9.5)}, 
 pdflang={English}}
\begin{document}

\maketitle
\begin{exercise}
Fix \(m,p\in\N\), let \(\fR\) be the class of all \(m\)-ary relations. Prove that \(\abs{\fR/\sim_p}\) is finite
\end{exercise}

\begin{proof}
For any \(m\)-ary relations \(R\) and \(R'\)
\begin{align*}
R\sim_p R'&\Leftrightarrow\emptyset\in S_p(R,R')\Leftrightarrow\emptyset\sim_p\emptyset\\
&\Leftrightarrow\text{ for all sentence $\phi$ with }QR(\phi)\le p, R\vDash\phi \text{ iff }R'\vDash\phi
\end{align*}
From proofs of Fraïssé's theorem, as up to equivalence, there are only finitely many sentences of quantifier rank \(q\) for
all \(q\in\N\). Then We can list them as \(\psi_1,\psi_2,\dots,\psi_n\) for some \(n\)  whose quantifier rank is at
most \(p\) such that for any sentence \(\varphi\) with quantifier at most \(p\), \(\varphi\) is equivalent to \(\psi_a\) for
some \(a\in\N\). Since for  \(i\in \N\),
either \(R\vDash\psi_i\) or \(R\vDash\neg\psi_i\).  Take the conjunction of each \(\psi_i\) or its negated form and we get a \(\psi_R\) such that
\begin{equation*}
R\sim_pR'\Leftrightarrow R\vDash\psi_R\wedge R'\vDash\psi_R
\end{equation*}
Thus \(R'\in[R]_{\sim_p}\) if and only if \(R'\vDash\psi_R\). As there is only \(2^n\) possible \(\psi\)'s according
to \(\psi_1,\psi_2,\dots,\psi_n\), we have \(\abs{\fR/\sim_p}\le 2^n\) and
thus \(\abs{\fR/\sim_p}\) is finite
\end{proof}
\end{document}
