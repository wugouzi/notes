% Created 2021-10-21 Thu 14:05
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\input{../../../../preamble-lite.tex}
\def \EF {\text{EF}}
\author{Qi'ao Chen\\21210160025}
\date{\today}
\title{Homework4}
\hypersetup{
 pdfauthor={Qi'ao Chen\\21210160025},
 pdftitle={Homework4},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 27.2 (Org mode 9.5)}, 
 pdflang={English}}
\begin{document}

\maketitle
\begin{exercise}
Let \(\call=\{P\}\), a language with only one unary relation symbol. Classify complete theories
with \(\call\), i.e. determine all complete theories with only one unary symbol
\end{exercise}

\begin{proof}
Suppose \(\fM=(M,R)\) and \(\fN=(N,S)\).

\begin{enumerate}
\item If the universe of \(\fM\) is finite. Then \(\abs{\fM}=a\) and \(\abs{P(\fM)}=b\) for some \(a,b\in\N\)
and \(b\le a\).

For \(n\in\N\), let
\begin{align*}
&\varphi_n=\exists x_1\dots x_n(\bigwedge_{1\le i<j\le n}x_i\neq x_j\wedge\forall x(\bigwedge_{i=1}^nx=x_i))\\
&\varphi_{n,P}=\exists x_1\dots x_n(\bigwedge_{1\le i<j\le n}x_i\neq x_j\wedge\forall x(\bigwedge_{i=1}^nx=x_i)\wedge\bigwedge_{i=1}^nP(x_i))\\
\end{align*}
Then \(\varphi_n\) says there are exactly \(n\) elements and \(\varphi_{n,P}\) says there are exactly \(n\)
elements satisfying \(P\). Let \(\theta_{a,b}=\varphi_a\wedge\varphi_{b,P}\), then \(\fM\vDash\theta_{a,b}\).

\textbf{Claim} \(\fM\cong\fN\Leftrightarrow \fM\vDash\theta_{a,b}\text{ and }\fN\vDash\theta_{a,b}\)

Left to right is obvious. Now suppose both \(\fM\) and \(\fN\) both satisfy \(\theta_{a,b}\). Then they
have same number of elements and have same number of elements satisfying \(P\).
Let \(f:P(\fM)\to P(\fN)\) be a bijection as they have same cardinality and let \(f':\fM\to\fN\) be the
bijection such that \(f'\supseteq f\). Thus for any \(a\in M\), \(Ra\Leftrightarrow Sf'(a)\) and \(f'\) is an isomorphism.

Thus \(\fM\equiv\fN\) and any complete theory consisting of \(\theta_{a,b}\) is unique.

\item If the universe of \(\fM\) is infinite.

For each \(n\in\N\), let
\begin{equation*}
\psi_n=\exists x_1\dots x_n(\bigwedge_{1\le i<j\le n}x_i\neq x_j)
\end{equation*}
and \(S=\{\psi_i:i\in\N\}\).
\begin{enumerate}
\item If \(\abs{P(\fM)}=a\).

Let \(\Gamma_a=S\cup\{\varphi_{a,P}\}\). For any \(p\in\N\), we show that Duplicator wins \(\EF_p(R,S)\): if
Spoiler chooses an element from \(M\setminus P(\fM)\)(\(N\setminus P(\fN)\)), then Duplicator chooses a new element
from \(N\setminus P(\fN)\) (\(M\setminus P(\fM)\)); if Spoiler chooses an element from \(P(\fM)\) (\(P(\fN)\)), then
Duplicator chooses a element from \(P(\fN)\) (\(P(\fM)\)). Then we get a map \(s\)
and \(Ra\Leftrightarrow Ss(a)\) for \(a\in\dom(s)\). Thus \(s\) is a local isomorphism and \(\fM\equiv\fN\). Hence any
complete theory that contains \(\Gamma_a\) is unique
\item if \(\abs{P(\fM)}\) is infinite.

Let \(\Gamma_\omega=S\cup\{\varphi_{n,P}:n\in\N\}\). Similarly we can that prove any complete theory containing \(\Gamma_\omega\) is
unique
\end{enumerate}
\end{enumerate}


Thus we prove that there is three kinds of complete theory
\begin{enumerate}
\item For each \(n\in\omega\) and \(m\le n\), there is a unique complete theory containing \(\theta_{m,n}\)
\item For each \(n\in\omega\) there is a unique complete theory containing \(\Gamma_n\)
\item Unique complete theory containing \(\Gamma_\omega\)
\end{enumerate}
\end{proof}

\begin{exercise}
Show that there is a structure \((M,+,\cdot,<,0,1)\) elementarily equivalent to \((\R,+,\cdot,<,0,1)\) s.t.
the order on \(M\) is not complete: there is a bounded set with no supremum
\end{exercise}

\begin{proof}
Take \(\Q\subseteq\R\), then by LÃ¶wenheim's theorem, we can find an elementarily restriction \(\fQ\)
of \((\R,+,\cdot,<,0,1)\) whose domain \(Q\) contains \(\Q\) and \(\abs{\fQ}=\aleph_0\). Thus by Theorem 1.7 \(\fQ\) is
also a dense linear order. As every countable dense linear set is isomorphic to \(\Q\), there is
a \(f\) s.t. \(f:\fQ\cong\Q\).
Since \(\Q\) is not complete, \(\fQ\) is also not complete: if \(\fQ\) is complete, then for any bounded
subset \(A\subset\Q\), \(f(A)\) is also a bounded in \(\fQ\) and thus has a supremum \(a\) in \(\fQ\).
Then \(f^{-1}(a)\) is the supremum in \(\Q\), a contradiction.
\end{proof}

\begin{exercise}
Show that the open interval \(((0,1)<))\) is an elementary substructure of \((\R,<)\)
\end{exercise}

\begin{proof}
First \((\R,<)\cong((0,1),<)\) as we have the isomorphic function \(f(x)=\arctan(x)\).

We first show that \(((0,1),<)\sim_\omega(\R,<)\). For any \(p\in\N\) and game \(\EF_p(((0,1),<),(\R,<))\)
\begin{itemize}
\item If Spoiler chooses \(x\in\R\), then Duplicator chooses \(y=f(x)\in(0,1)\)
\item If Spoiler chooses \(y\in(0,1)\), then Duplicator chooses \(x=f^{-1}(y)\)
\end{itemize}
The induced map \(s\) is a local isomorphism as \(s\subset f\). Thus Duplicator wins.

Thus \(((0,1),<)\) is an elementary substructure of \((\R,<)\)
\end{proof}

\begin{exercise}
Show that every formula is equivalent to a ``nice'' formula.
\end{exercise}

\begin{proof}
First we show that any formula \(\varphi\) of the form \(y=t(\barx)\) can be transformed into a
``nice'' formula. We describe an algorithm for this transformation:
\begin{enumerate}
\item If \(t\) is a variable or constant, then return \(y=t(\barx)\)
\item If \(t=f(t_1(\barx),\dots,t_n(\barx))\) and
 \(t_{r_1}(\barx),\dots,t_{r_m}(\barx)\) among \(t_1(\barx),\dots,t_n(\barx)\) are not ``nice'', let
\(\varphi_i(y_i,\barx)\) be \(y_i=t_{r_i}(\barx)\) for \(1\le i\le m\) and we transform them into ``nice''
formula \(\varphi_i'\) by the algorithm
\item Let \(\varphi'(y,\barx)\) be
\begin{equation*}
y=\exists y_1\dots y_m\left( f(t_1(\barx),\dots,t_n(\barx))^{t_{r_1}(\barx),\dots,t_{r_m}(\barx)}_{y_1,\dots,y_n}
\wedge\bigwedge_{i=1}^m\varphi_i'(y_i,\barx)
 \right)
\end{equation*}
and return \(\varphi'(y,\barx)\)
\end{enumerate}
As every formula \(\varphi\) is a finite string, this process will end and we will get a ``nice'' formula \(\varphi'\)
s.t. \(\vDash\varphi\leftrightarrow\varphi'\)

We prove this by induction on the complexity of \(\varphi\)
\begin{enumerate}
\item If \(\varphi\) is atomic formula
\begin{enumerate}
\item If \(\varphi\) is of the form \(t_1(\barx)=t_2(\barx)\)

Let \(\varphi_i:=y_i=t_i(\barx)\) for \(i=1,2\). We can transform \(\varphi_i\) into ``nice'' formula \(\varphi_i'\).
Hence we have nice formula
\begin{equation*}
\varphi'(\barx):=\exists y_1y_2(y_1=y_2\wedge\varphi_1'(y_1,\barx)\wedge\varphi_2'(y_2,\barx))
\end{equation*}
and \(\vDash\varphi\leftrightarrow\varphi'\)

\item If \(\varphi\) is of the form \(R(t_1(\barx),\dots,t_m(\barx))\)

Let \(\varphi_i:=y_i=t_i(\barx)\) for \(1\le i\le m\). We can transform \(\varphi_i\) into ``nice'' formula \(\varphi_i'\)
and let
\begin{equation*}
\varphi'(\barx):=\exists y_1\dots y_n\left(
R(y_1,\dots,y_m)\wedge\bigwedge_{i=1}^m\varphi_i'(y_i,\barx)\right)
\end{equation*}
which is  ``nice'' and \(\vDash\varphi\leftrightarrow\varphi'\)
\end{enumerate}

\item If \(\varphi\) is of the form \(\neg\psi\), \(\psi\wedge\theta\), \(\psi\vee\theta\) , \(\forall x\psi\) or \(\exists x\psi\). As we can transform \(\psi\) and \(\theta\) into nice
formulas \(\psi'\) and \(\theta'\) respectively
\begin{enumerate}
\item for \(\neg\psi\), \(\psi\wedge\theta\) or \(\exists x\psi\), \(\neg\psi'\), \(\psi'\wedge\theta'\) and \(\exists x\psi'\) are want we want

\item for \(\psi\vee\theta\), let \(\varphi'=\neg(\neg\psi'\wedge\theta')\)

\item for \(\forall x\psi\), let \(\varphi'=\neg\exists x\neg\psi'\)
\end{enumerate}
\end{enumerate}
\end{proof}

\begin{exercise}
Let \(T\) be the set of \(\call_{\text{ring}}\)-sentences true in \((\R,+,\cdot,0,1)\). Show that \(T\) is
finitely satisfiable and complete, but does not have the witness property
\end{exercise}

\begin{proof}
Let \(\fM=(\R,+,\cdot,0,1)\). Then \(T=\Th(\fM)\). As for every \(\call_{\text{ring}}\)-sentence \(\varphi\),
either \(\fM\vDash\varphi\) or \(\fM\vDash\neg\varphi\), thus either \(\varphi\in T\) or \(\neg\varphi\in T\). Hence \(T\) is complete.

For every finite subset \(S\) of \(\Th(\fM)\), we can enumerate them as \(\varphi_1,\dots,\varphi_n\). Let \(\psi=\bigwedge_{i=1}^n\varphi_i\).
As \(\fM\vDash\psi\), \(S\) is satisfiable and thus \(\Th(\fM)\) is finitely satisfiable.

Sentence \(\varphi=\exists x(x\cdot x=1+1)\) doesn't have the witness property.
\end{proof}
\end{document}
